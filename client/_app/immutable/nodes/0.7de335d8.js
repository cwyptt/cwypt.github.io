var $=Object.defineProperty;var x=(s,a,t)=>a in s?$(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t;var Y=(s,a,t)=>(x(s,typeof a!="symbol"?a+"":a,t),t);import{s as K,f as M,g as v,h as I,d as f,j as _,k as E,i as C,r as T,u as L,v as N,w as ee,x as te,o as H,y as se,z as ne,a as P,A as ae,c as V,B as D,C as oe,D as re,E as ie,F as le}from"../chunks/scheduler.055b1430.js";import{S as J,i as Q,b as ce,d as ue,m as de,a as B,t as q,e as me}from"../chunks/index.ca9cb631.js";import{c as pe}from"../chunks/cursorStore.b18ebb6d.js";const fe=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function he(s){let a,t,u,d;return{c(){a=M("div"),t=M("div"),this.h()},l(o){a=v(o,"DIV",{class:!0,style:!0});var r=I(a);t=v(r,"DIV",{class:!0,style:!0}),I(t).forEach(f),r.forEach(f),this.h()},h(){_(t,"class","water-droplet svelte-1p9n17w"),E(t,"transform","translate("+(s[4]-15)+"px, "+(s[5]-15)+"px)"),_(a,"class","raindrop svelte-1p9n17w"),E(a,"transform","translateX("+(s[0]-15)+"px) translateY("+(s[1]-15)+"px) scale("+s[3]+") rotate(-90deg)"),E(a,"opacity",s[6]?s[2]:0)},m(o,r){C(o,a,r),T(a,t),u||(d=[L(window,"mousemove",s[7]),L(window,"mousedown",s[8]),L(window,"mouseup",s[9])],u=!0)},p(o,[r]){r&48&&E(t,"transform","translate("+(o[4]-15)+"px, "+(o[5]-15)+"px)"),r&11&&E(a,"transform","translateX("+(o[0]-15)+"px) translateY("+(o[1]-15)+"px) scale("+o[3]+") rotate(-90deg)");const l=r&11;(r&79||l)&&E(a,"opacity",o[6]?o[2]:0)},i:N,o:N,d(o){o&&f(a),u=!1,ee(d)}}}const O=.995,R=.15,U=.98,j=.05,G=.1;function _e(s,a,t){let u;te(s,pe,y=>t(6,u=y));let d,o,r,l=1,m,p=15,h=15,i=0,e=0,n=0,c=0,w;function W(){i=(Math.random()-.5)*G,e=(Math.random()-.5)*G}function Z(y){t(0,d=y.clientX),t(1,o=y.clientY),t(2,r=1);const b=d-n,A=o-c;u&&t(2,r=1),e+=b*R,i-=A*R,n=d,c=o,clearTimeout(m),m=setTimeout(()=>{t(2,r=0)},3e3)}function X(){i*=O,e*=O;const y=Math.sqrt(i*i+e*e);if(y<j){const g=j/y;i*=g,e*=g}t(4,p+=i),t(5,h+=e);const b=25,A=25;if(Math.sqrt(Math.pow(p-b,2)+Math.pow(h-A,2))>15){const g=Math.atan2(h-A,p-b);t(4,p=b+Math.cos(g)*15),t(5,h=A+Math.sin(g)*15);const F=Math.cos(g),S=Math.sin(g),z=i*F+e*S;i=(i-2*z*F)*U,e=(e-2*z*S)*U}w=requestAnimationFrame(X)}return H(()=>{W(),X()}),se(()=>{cancelAnimationFrame(w)}),[d,o,r,l,p,h,u,Z,()=>t(3,l=1.25),()=>t(3,l=1)]}class we extends J{constructor(a){super(),Q(this,a,_e,he,K,{})}}const{document:k,window:ye}=fe;function ge(s){let a,t,u,d,o,r,l,m,p,h;o=new we({});const i=s[3].default,e=ne(i,s,s[2],null);return{c(){a=M("meta"),t=M("meta"),u=M("link"),d=P(),ce(o.$$.fragment),r=P(),l=M("span"),e&&e.c(),this.h()},l(n){const c=ae("svelte-1k5bjoy",k.head);a=v(c,"META",{charset:!0}),t=v(c,"META",{name:!0,content:!0}),u=v(c,"LINK",{rel:!0,href:!0,as:!0,type:!0}),c.forEach(f),d=V(n),ue(o.$$.fragment,n),r=V(n),l=v(n,"SPAN",{class:!0});var w=I(l);e&&e.l(w),w.forEach(f),this.h()},h(){_(a,"charset","UTF-8"),_(t,"name","viewport"),_(t,"content","width=device-width, initial-scale=1.0"),_(u,"rel","preload"),_(u,"href","/sounds/rain-excuse-consuela.mp3"),_(u,"as","audio"),_(u,"type","audio/mpeg"),k.title="Cwypt | Portfolio",_(l,"class","svelte-1cwcysj"),D(l,"loading",s[0])},m(n,c){T(k.head,a),T(k.head,t),T(k.head,u),C(n,d,c),de(o,n,c),C(n,r,c),C(n,l,c),e&&e.m(l,null),m=!0,p||(h=L(ye,"click",function(){le(s[1])&&s[1].apply(this,arguments)}),p=!0)},p(n,[c]){s=n,e&&e.p&&(!m||c&4)&&oe(e,i,s,s[2],m?ie(i,s[2],c,null):re(s[2]),null),(!m||c&1)&&D(l,"loading",s[0])},i(n){m||(B(o.$$.fragment,n),B(e,n),m=!0)},o(n){q(o.$$.fragment,n),q(e,n),m=!1},d(n){n&&(f(d),f(r),f(l)),f(a),f(t),f(u),me(o,n),e&&e.d(n),p=!1,h()}}}function Ee(s,a,t){let{$$slots:u={},$$scope:d}=a,o=!0,r,l,m;async function p(){try{l=new(window.AudioContext||window.webkitAudioContext);const e=await(await fetch("sounds/click.wav")).arrayBuffer();m=await l.decodeAudioData(e),t(1,r=()=>{if(!l||!m)return;const n=l.createBufferSource();n.buffer=m,n.connect(l.destination),n.start(0)})}catch(i){console.error("Failed to initialize click sound:",i)}}class h{constructor(){Y(this,"rain1");Y(this,"rain2");this.rain1=this.createAudioElement(),this.rain2=this.createAudioElement()}createAudioElement(){const e=new Audio("/sounds/rain-excuse-consuela.mp3");return e.loop=!0,e.volume=.3,e.preload="auto",e.muted=!1,e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e}async startPlayback(){try{await this.rain1.play(),this.rain1.addEventListener("pause",()=>this.handlePause(this.rain1)),this.rain1.addEventListener("ended",()=>this.handleEnded(this.rain1)),this.rain2.addEventListener("pause",()=>this.handlePause(this.rain2)),this.rain2.addEventListener("ended",()=>this.handleEnded(this.rain2))}catch(e){console.error("Failed to start rain audio:",e),document.addEventListener("click",()=>this.rain1.play(),{once:!0})}}handlePause(e){e.play().catch(()=>{})}handleEnded(e){e.play().catch(()=>{})}}return H(async()=>{await p(),await new h().startPlayback(),document.readyState==="complete"&&t(0,o=!1),(()=>{var w;const n=(w=document.querySelector("body"))==null?void 0:w.classList;let c;window.addEventListener("resize",()=>{c===void 0?n==null||n.add("stop-transitions"):clearTimeout(c),c=window.setTimeout(()=>{n==null||n.remove("stop-transitions"),c=void 0},100)})})()}),s.$$set=i=>{"$$scope"in i&&t(2,d=i.$$scope)},[o,r,d,u]}class Le extends J{constructor(a){super(),Q(this,a,Ee,ge,K,{})}}export{Le as component};
